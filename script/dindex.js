"use strict";define(["jquery"],function(){return{init:function(){require(["config"],function(){require(["jquery"],function(){var n=document.querySelector(".story_one_lunbo"),o=document.querySelector(".story_one_lunbo ul"),t=document.querySelectorAll(".story_one_lunbo ul li"),e=document.querySelectorAll(".story_one_lunbo ol li"),i=n.offsetWidth,l=0;o.style.width=t.length*i+"px";for(var a=function(n){e[n].onmousemove=function(){l=n-1,s()}},u=0;u<e.length;u++)a(u);var c=setInterval(function(){s()},2e3);function s(){++l>e.length&&(o.style.left=0,l=1),l<0&&(o.style.left=-i*e.length+"px",l=e.length-1);for(var n=0;n<e.length;n++)e[n].className="";l===e.length?e[0].className="active":e[l].className="active",easeMotion(o,{left:-i*l})}n.onmouseover=function(){clearInterval(c)},n.onmouseout=function(){c=setInterval(function(){s()},2e3)};var r=document.querySelectorAll(".book_online_con .minbtn li"),d=document.querySelector(".btn_brand_prve"),h=document.querySelector(".btn_brand_next"),f=document.querySelectorAll(".over>div"),$=0;function v(){for(var n=0;n<r.length;n++)r[n].className="",f[n].setAttribute("id","");r[$].className="aaa",f[$].setAttribute("id","showone")}var m=function(n){r[n].onmousemove=function(){$=n,v()}};for(u=0;u<r.length;u++)m(u);h.onclick=function(){++$>r.length-1&&($=0),v()},d.onclick=function(){--$<0&&($=r.length-1),v()}})}),require(["config"],function(){require(["jquery"],function(){var e=$(".tools_address .address_con ul"),n=$(".tools .tools_address p"),o=$(".tools .tools_address p span");$.ajax({url:"http://localhost/dangdang/src/php/city.json",dataType:"json"}).done(function(n){$.each(n,function(n,o){var t="\n                                    <li>"+o.name.substring(0,2)+"</li>\n                                ";e.append(t)})}),n.on("mouseover",function(){e.attr("class","showaddress"),n.attr("id","ho")}),n.on("mouseout",function(){n.attr("id","")}),e.on("click","li",function(){o.html($(this).html()),e.attr("class",""),n.attr("id","")}),e.on("mouseleave",function(){e.attr("class",""),n.attr("id","")})})}),require(["config"],function(){require(["jquery"],function(){var c=$("#search"),s=$(".result");$(c).on("input",function(){$(s).show(),$.ajax({url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd='"+c.val()+"'&cb=baidu",dataType:"jsonp",jsonpCallback:"baidu"}).done(function(n){var o="<ul>",t=!0,e=!1,i=void 0;try{for(var l,a=n.s[Symbol.iterator]();!(t=(l=a.next()).done);t=!0){o+='\n                                <li>\n                                    <a href="#">'+l.value+"</a>\n                                </li>\n            \n                                    "}}catch(n){e=!0,i=n}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}o+="</ul>",s.html(o);var u=$(".result li");$.each(u,function(){var n=this;$(this).on("mouseover",function(){$(n).css({"background-color":"#f6f6f6"})}).on("mouseout",function(){$(n).css({"background-color":"#fff"})}).on("click",function(){c.val($(n).text().trim()),s.hide()})}),$(c).on("focus",function(){$(s).show()}),""==c.val()&&s.hide()})})})}),require(["config"],function(){require(["jquery","jquery_lazyload"],function(){var e=$(".over .one ul");$.ajax({url:"http://localhost/dangdang/src/php/book1.php",dataType:"json"}).done(function(n){$.each(n,function(n,o){var t="<li title='"+o.title+"'>\n                                    <img data-original="+o.img+" class='lazy'></img>\n                                    <div class=\"title\">"+o.title+'</div>\n                                    <div class="author">'+o.author+'</div>\n                                    <div class="price">￥'+o.price+"</div>\n                                    </li>";e.append(t)}),$("img.lazy").lazyload({effect:"fadeIn"})});var n=$(".dujia_con1 ul"),o=$(".dujia_con2 ul"),t=$(".dujia_con3 ul");function i(n,e){$.ajax({url:"http://localhost/dangdang/src/php/"+n+".php",dataType:"json"}).done(function(n){$.each(n,function(n,o){var t="<li title='"+o.title+"'>\n                                            <img data-original="+o.image+" class='lazy'>\n                                            <p class=\"title\">"+o.title+'</p>\n                                            <p class="logo">当当独家特供</p>\n                                            <p class="price">￥'+o.price+"</p>\n                                        </li>";e.append(t)}),$("img.lazy").lazyload({effect:"fadeIn"})})}i("zhuda",n),i("tongshu1",o),i("tongshu2",t),i("zhuda",$(".dujia_con4 ul")),i("tongshu1",$(".dujia_con5 ul")),i("tongshu2",$(".dujia_con6 ul")),i("zhuda",$(".dujia_con7 ul")),i("tongshu1",$(".dujia_con8 ul")),i("tongshu2",$(".dujia_con9 ul")),i("zhuda",$(".dujia_con10 ul")),i("tongshu2",$(".dujia_con11 ul")),$(".dujia_head .dujia_li ul li").on("mousemove",function(){$(this).attr("id","onnn").siblings("li").attr("id",""),console.log($(this).index(".dujia_li ul li")),$(".dujia_con div:eq("+$(this).index(".dujia_li ul li")+")").attr("id","dujia_show").siblings("div").attr("id","")})})}),require(["jquery"],function(){var n=$(".fixed .return_top");$(window).on("scroll",function(){800<$(this).scrollTop()?n.show():n.hide()}),n.on("click",function(){$("html,body").animate({scrollTop:0},"slow")})}),require(["jquery"],function(){var n=$(".story_one_body>ul li"),o=$(".one_content .subcon");$.each(n,function(){var n=this;$(this).hover(function(){$(".one_content").show(),o.show(),$(n).addClass("on").siblings("li").removeClass("on"),$(window).scrollTop()>$(".story_one_body").offset().top?$(".one_content").css({top:$(window).scrollTop()-$(".story_one_body").offset().top+35}):$(".one_content").css({top:0}),o.eq($(n).index()).show().siblings().hide()},function(){$(n).removeClass("on"),$(".one_content").hide()})}),$(".one_content").on("mouseover",function(){$(".one_content").show()}),$(".one_content").on("mouseout",function(){$(".one_content").hide()})});var n=$(".toolsnav li:eq(0) a i"),o=$(".toolsnav li:eq(0) a .exit"),t=$(".toolsnav li:eq(0) a .login");localStorage.getItem("username")&&(n.html(localStorage.getItem("username")+"欢迎你"),o.show(),t.hide()),$(".toolsnav li:eq(0) a span").on("click",function(){n.html("欢迎光临，请先"),t.show(),o.hide(),localStorage.removeItem("username")}),$(".login").on("click",function(){location.href="http://localhost/dangdang/src/html/dlogin.html"})}}});