"use strict";define(["jquery"],function(){return{init:function(){var s=$("#telphone"),o=$("#password"),r=$("#qr_pass"),i=null,e=null,t=null;s.on("focus",function(){$(this).css("border-color","#969696"),$(".tel i").show()}),o.on("focus",function(){$(this).css("border-color","#969696"),$(".password i").show()}),o.on("input",function(){$(this).css("border-color","#e6e6e6");if(0<$(this).val().length)if(/^\w{6,20}$/.test($(this).val())){var s=!1,o=!1,r=!1;switch(/[0-9]/.test($(this).val())&&(s=!0),/[a-z]/.test($(this).val())&&(o=!0),/[A-Z]/.test($(this).val())&&(r=!0),s+o+r){case 1:$(".password .isok").css("background-position","0 -34px"),$(".password").find(".isok").show(),$(".password i").html("密码过于简单").css({color:"red"}),e=!0;break;case 2:$(".password .isok").css("background-position","0 -34px"),$(".password").find(".isok").show(),$(".password i").html("试试大小写字母、数字的组合更安全").css({color:"orange"}),e=!0;break;case 3:$(".password .isok").css("background-position","0 -34px"),$(".password").find(".isok").show(),$(".password i").html("密码设置安全，放心使用").css({color:"green"}),e=!0}}else $(this).css("border-color","red"),$(".password i").html("密码长度6-20个字符，请重新输入").css("color","red"),$(".password").find(".isok").show(),$(".password .isok").css("background-position","0 -13px"),e=!1;else $(this).css("border-color","red"),$(".password i").html("密码不能为空").css("color","red"),$(".password").find(".isok").show(),$(".password .isok").css("background-position","0 -13px"),e=!1}),r.on("focus",function(){$(this).css("border-color","#969696"),$(".queren i").show()}),r.on("blur",function(){$(this).css("border-color","#e6e6e6"),t=0<$(this).val().length?o.val()===$(this).val()?($(this).css("border-color","#e6e6e6"),$(".queren .isok").css("background-position","0 -34px"),$(".queren").find(".isok").show(),$(".queren i").html(""),!0):($(this).css({borderColor:"red"}),$(".queren .isok").css("background-position","0 -13px"),$(".queren").find(".isok").show(),$(".queren i").html("两次输入的密码不一致，请重新输入").css({color:"red"}),!1):($(this).css({borderColor:"red",backgroundColor:"#fef0ef"}),$(".queren .isok").css("background-position","0 -13px"),$(".queren").find(".isok").show(),$(".queren i").html("密码不能为空").css({color:"red"}),!1)}),s.on("blur",function(){$(this).css("border-color","#e6e6e6");(i=0<$(this).val().length?/^[1][345789]\d{9}$/.test($(this).val())?($(".tel .isok").css("background-position","0 -34px"),$(".tel").find(".isok").show(),$(".tel i").html(""),!0):($(this).css("border-color","red"),$(".tel i").html("手机号格式错误").css("color","red"),$(".tel").find(".isok").show(),$(".tel .isok").css("background-position","0 -13px"),!1):($(this).css("border-color","red"),$(".tel i").html("手机号不能为空").css("color","red"),!1))&&$.ajax({type:"post",url:"http://localhost/dangdang/src/php/dregister.php",data:{telphone:s.val()}}).done(function(s){i=s?($(".tel i").html("此手机号已注册，请更换其它手机号").css("color","red"),$(".tel").find(".isok").show(),$(".tel .isok").css("background-position","0 -13px"),!1):($(".tel").find(".isok").show(),$(".tel i").html(""),!0)})}),$("form").on("submit",function(){return!!(i&&e&&t)})}}});